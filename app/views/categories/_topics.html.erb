<% if @topics.empty? %>

	<p class="empty-resource-notice">There are no topics yet in this category.</p>

<% else %>
	<table class="table table-hover topics-table">
		<thead>
			<tr>
				<td class="topic">Topic</td>
				<td class="author">Author</td>
				<td class="replies">Replies</td>
				<td class="activity">Activity</td>
			</tr>
		</thead>
		<tbody>
			<% @topics.each do |topic| %>
				<tr>

					<!-- Topic -->
					<td class="topic">
						<%= link_to topic.title, topic, class: "topic-show" %><br>
						<span class="topic-peek" tooltip="<%= topic.content %>">(peek)</span>
						<%= render 'edit_delete_links', topic: topic %>
					</td>

					<!-- Author -->
					<td class="author">
						<%= render 'shared/user_avatar', user: topic.user %>
						<%= link_to topic.user.name, topic.user %>
					</td>

					<!-- Replies -->
					<td class="replies">
						<span><%= topic.posts.count %></snap>
					</td>

					<!-- Last activity -->
					<td class="activity">
							<% if topic.posts.any? %>
								<span tooltip="<%= topic.posts.last.updated_at %>">
								<%= time_ago_in_words(topic.posts.last.updated_at) %> ago
							<% else %>
								<span tooltip="<%= topic.updated_at %>">
								<%= time_ago_in_words(topic.updated_at) %> ago
							<% end %>
						</span>
					</td>

				</tr>

			<% end %>
		</tbody>
	</table>
<% end %>
