<% if @topics.empty? %>
	<p class="empty-resource-notice">There are no topics yet in this category.</p>
<% else %>

	<% @topics.each do |topic| %>
		<div>
			<a href="<%= topic_path(topic) %>"
			   class="list-group-item list-group-item-warning">
				<h4 class="list-group-item-heading"><%= topic.title %></h4>
				<p class="list-group-item-text">
					<%= topic.content %>
				</p>
			</a>

			<% if logged_in? &&
						( current_user.admin? ||
						# Moderators can edit and delete all topics excluded admin's topics.
						 (current_user.moderator? && !topic.user.admin?) ||
						  current_user.owner_of(topic) )
						%>
				<div class="edit-delete-btns">
					<%= link_to "Edit",
								edit_topic_path(topic),
								class: "btn btn-warning btn-xs" %>
					<%= link_to "Delete",
								topic,
								method: :delete,
								data: {confirm: 'Are You sure You want to delete this topic' \
																' along with all it\'s posts?'},
								class: "btn btn-danger btn-xs" %>
				</div>
			<% end %>
		</div>
	<% end %>

<% end %>
